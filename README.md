# Telegram-бот для магазину автозапчастин

## Опис
Цей бот автоматизує роботу магазину автозапчастин у Telegram: обробку замовлень, спілкування з клієнтами, роботу з бонусами та управління через панель менеджера.  
Побудований на **python-telegram-bot** (асинхронна версія) та **FastAPI** для роботи з webhook.

## Функціонал

### Для клієнтів
- Відправка запитів і замовлень.
- Перегляд історії замовлень.
- Перевірка бонусного балансу.
- Активація бонусних кодів.
- Інформація про доставку, оплату, магазин.

### Для менеджера
- Отримання нових запитів у групу.
- Взяття клієнта в роботу.
- Відповіді клієнтам у діалозі.
- Оформлення замовлення (ціна та опис).
- Перегляд і зміна статусу замовлень.
- Експорт замовлень в Excel.
- Зміна бонусного балансу клієнтів.

## Архітектура
- **`main.py`** — основна логіка бота (обробники, webhook).
- **`db.py`** — модуль роботи з базою даних (повинен бути реалізований окремо).
- **FastAPI** використовується для прийому webhook від Telegram.
- **Supabase / PostgreSQL** або інша база даних для зберігання даних.

## Встановлення
1. Клонувати репозиторій:
git clone https://github.com/Zapchasti69/store-telegram-bot.git
cd store-telegram-bot

Встановити залежності:
pip install -r requirements.txt

Створити файл .env за прикладом:
env
BOT_TOKEN=ваш_токен_бота
MANAGER_ID=ID_менеджера
MANAGER_GROUP_ID=ID_групи
WEBHOOK_URL=https://ваш-домен.com
WEBHOOK_SECRET_TOKEN=ваш_секрет
PORT=8000
DATABASE_URL=postgresql://user:pass@host:port/dbname

Запуск
Через webhook (production)
uvicorn main:fastapi_app --host 0.0.0.0 --port 8000

Локально (polling, для тесту)
Потрібно змінити запуск у коді на:
telegram_app.run_polling()
та не використовувати FastAPI.

Примітки
Для роботи потрібен файл db.py з функціями, які викликає main.py.

Якщо інтеграція з Instagram не потрібна — можна видалити імпорти та виклики, що стосуються Instagram.

Перевірте, щоб у .env не було пробілів перед або після =.
